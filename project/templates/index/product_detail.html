{% extends 'index/base.html' %}
{% load staticfiles %}
{% block body %}
        <!--Breacrumb-->
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="{% url 'home:home' %}" class="anchor--dark">Home</a></li>
                <li class="breadcrumb-item active" aria-current="page"> <a href="{% url 'home:filter_category' detail.category.id %}"> {{detail.category}}</a></li>
                <li class="breadcrumb-item active" aria-current="page">
                <a href="{% url 'home:filter_subcategory' detail.subcategory.id %}">{{detail.subcategory}}
                </a>
                </li>
                <li class="breadcrumb-item active" aria-current="page">
                <a href="#">{{detail.name}}
                </a>
                </li>


            </ol>
        </nav>
        <!--Featured products start-->
        <section class="pd-t--40 pd-b--40">

            <div class="row">
                <div class="col-8 col-md-5 col-sm-12 col-xs-12">
                    <img src="{{detail.image.url}}" alt="" class="img-fluid img-thumbnail" id='product_image'> <br>

        <div class="col-3 col-md-1 d-flex justify-content-between">
        <a href="" class="anchor--dark" id="tShirtNavLeft">
        <i data-feather="chevron-left"></i>
        </a>
        <a href="" class="anchor--dark" id="tShirtNavRight">
        <i data-feather="chevron-right"></i>
        </a>
        </div>
      <div class="owl-carousel" id="tShirt-carousel">
        {% for i in others %}
        <a class="d-block bg-white rounded-lg p-0 mx-1 anchor--dark" style='text-align:center'>
          <img src="{{i.image.url}}" id= '{{i.id}}'  class="img-fluid {{i.color}}" alt="{{i.subcategory}} image" style='width:250; height:250' onclick="ChangeProductImage('{{i.image.url}}', '{{i.color}}', this.id)"><br>
          <small>{{i.color}}</small>

        </a>
        {% endfor %}

      </div>




                </div>


                <div class="col-12 col-md-5">
                    <h1 class="is-size--4 is-size-md-6">{{detail.category}} {{detail.subcategory}}</h1>
                    <!--Star Rating Start-->
                    <div class="d-flex my-2" title="5 star rating">
                        <span class="d-inline-block mx-1 text-warning ">
                            <i data-feather="star" width="20" height="20"></i>
                        </span>
                        <span class="d-inline-block mx-1 text-warning ">
                            <i data-feather="star" width="20" height="20"></i>
                        </span>
                        <span class="d-inline-block mx-1 text-warning ">
                            <i data-feather="star" width="20" height="20"></i>
                        </span>
                        <span class="d-inline-block mx-1 text-warning ">
                            <i data-feather="star" width="20" height="20"></i>
                        </span>
                        <span class="d-inline-block mx-1 text-warning">
                            <i data-feather="star" width="20" height="20"></i>
                        </span>
                    </div>
                    <div class="my-3 row align-items-center">
                        <div class="col-md-6 col-12 my-1 d-flex align-items-center">
                            <div class="mr-2">
                                Sex:
                            </div>
                            <div class="d-flex flex-wrap align-content-center">
                                {% if detail.sex == "Male" %}
                                <label class="custom-radio" for="male">
                                    <input type="radio" name="sex" id="male">
                                    <div class="content" style='background-color:rgb(56, 142, 42); color:white;'>Male</div>
                                </label>
                                {% endif %}

                                {% if detail.sex == "Female" %}
                                <label class="custom-radio" for="female">
                                    <input type="radio" name="sex" id="female">
                                    <div class="content" onclick="changeSex('F')" style='background-color:rgb(56, 142, 42); color:white;'>Female</div>
                                </label>
                                {% endif %}

                                {% if detail.sex == "Unisex" %}
                                <label class="custom-radio" for="female">
                                    <input type="radio" name="sex" id="female">
                                    <div class="content" onclick="changeSex('F')" style='background-color:rgb(56, 142, 42); color:white;'>Unisex</div>
                                </label>
                                {% endif %}

                            </div>
                        </div>


                        <div class="col-md-6 col-12 my-1 d-flex align-items-center">
                            <div class="mr-2">
                                Quantity:
                            </div>
                            <div class="d-flex flex-wrap align-content-center">
                                <label class="custom-radio" for="q1">
                                    <input type="radio" name="quantity" id="q1" onclick="changeQuantity(1)">
                                    <div class="content">1</div>
                                </label>
                                <label class="custom-radio" for="q2">
                                    <input type="radio" name="quantity" id="q2" onclick="changeQuantity(2)">
                                    <div class="content">2</div>
                                </label>
                                <label class="custom-radio" for="q3">
                                    <input type="radio" name="quantity" id="q3" onclick="changeQuantity(3)">
                                    <div class="content">3</div>
                                </label>
                                <label class="custom-radio" for="q4">
                                    <input type="radio" name="quantity" id="q4" onclick="changeQuantity(4)">
                                    <div class="content">4</div>
                                </label>
                                <label class="custom-radio" for="q5">
                                    <input type="radio" name="quantity" id="q5" onclick="changeQuantity(5)">
                                    <div class="content">5</div>
                                </label>
                            </div>
                        </div>


                     </div>


<div class='row'>
                           <div class="col-12 my-1 d-flex align-items-center">
                            <div class="mr-2">
                                Size:
                            </div>
                            <div class="d-flex flex-wrap align-content-center">
                                 <label class="custom-radio" for="small">
                                    <input type="radio" name="size" id="small">
                                    <div class="content" onclick="changeSize('S')">S</div>
                                </label>

                                <label class="custom-radio" for="medium">
                                    <input type="radio" name="size" id="medium">
                                    <div class="content" onclick="changeSize('M')">M</div>
                                </label>

                                <label class="custom-radio" for="large">
                                    <input type="radio" name="size" id="large">
                                    <div class="content" onclick="changeSize('L')">L</div>
                                </label>

                                <label class="custom-radio" for="xtraLarge">
                                    <input type="radio" name="size" id="xtraLarge">
                                    <div class="content" onclick="changeSize('XL')">XL</div>
                                </label>

                                <label class="custom-radio" for="2xtraLarge">
                                    <input type="radio" name="size" id="2xtraLarge">
                                    <div class="content" onclick="changeSize('2XL')">2XL</div>
                                </label>

                                <label class="custom-radio" for="3xtraLarge">
                                    <input type="radio" name="size" id="3xtraLarge">
                                    <div class="content" onclick="changeSize('3XL')">3XL</div>
                                </label>

                                <label class="custom-radio" for="4xtraLarge">
                                    <input type="radio" name="size" id="4xtraLarge">
                                    <div class="content" onclick="changeSize('4XL')">4XL</div>
                                </label>
                            </div>
                        </div>
</div>

<div class='row'>
                           <div class="col-md-6 col-12 my-1 d-flex align-items-center">
                                 <div class="d-flex align-content-center">
                                 <div class="form-group">
                                <label for="sel1">Select Style</label>
                                <select class="form-control" name='product_style' id='product_style' onchange='changepImage()'>
                                {% for i in color %}
                                <option value='{{i}}'>{{i}}</option>
                                {% endfor %}
                                </select>
                                </div>

                            </div>
                        </div>
</div>


                    <div class="my-3 row">
                        <span class="anchor--dark f-block col-6" style='color:green;display:none;' id='loading_favourite' >loading...</span> <br>
                        <span class="anchor--dark f-block col-6" onclick="addToFavourite('{{detail.id}}')">
                            <i data-feather="heart" width="20" height="20"></i>
                            Add to favorite
                        </span>


                        <a class="anchor--dark f-block col-6 product_id" id='{{detail.id}}' onclick="addtoCartFunction(this.id)" style="cursor: pointer;" >
                            <i data-feather="shopping-cart" width="20" height="20"></i>
                            Add to cart <span id="loading_cart" style="font-size: 13px;color: green; display: none;">Loading</span>
                        </a>


                    </div>

                    <div class="my-3 p-2 row">
                        <h5 style="color: red; display: none;" id="error">error</h5>
                    </div>

                    <div class="my-3 p-2 row">
                        <form method='post' action = '/cart/buynow/' id='buynowform'> {% csrf_token %}
                            <input type='text' id='product_id' name='product_id' value='{{detail.id}}' style='display:none'>
                            <input type='text' name='size' id='buynowformsize' style='display:none'>
                            <input type='text' name='quantity' id='buynowformquantity' style='display:none'>



                        </form>

                        <button class="btn btn-block btn-primary" onclick='buyNowFunction()'>Buy Now</button>
                        <button class="btn btn-block btn-primary" data-toggle="modal" data-target="#myModal">View Size Guideline</button>

                    </div>

                </div>
            </div>
            <!--Scroll header end-->
        </section>

        <!--Similar Products-->
        <section class="pd-t--40 pd-b--40">
            <!--Scroll header start-->
            <div class="row align-content-center justify-content-between">
                <div class="col-7">
                    Similar products
                </div>
                <div class="col-3 col-md-1 d-flex justify-content-between">
                    <a href="" class="anchor--dark" id="salesNavLeft">
                        <i data-feather="chevron-left"></i>
                    </a>
                    <a href="" class="anchor--dark" id="salesNavRight">
                        <i data-feather="chevron-right"></i>
                    </a>
                </div>
            </div>
            <hr>
            <div class="owl-carousel" id="sales-carousel">
                {% for i in qs|slice:":20" %}
                    <a href="{% url 'home:detail' i.id %}" class="d-block bg-white rounded-lg p-0 mx-1 anchor--dark">
                            <img src="{{i.image.url}}" class="img-fluid" alt="jean_trousers">
                            <span class="d-block text-center text-capitalize p-1">
                               {{i.name}} - {{i.color}}
                            </span>
                            <!--Star Rating Start-->
                            <div class="d-flex justify-content-center" title="5 star rating">
                                <span class="d-inline-block mx-1 text-warning ">
                                    <i data-feather="star" width="14" height="14"></i>
                                </span>
                                <span class="d-inline-block mx-1 text-warning ">
                                    <i data-feather="star" width="14" height="14"></i>
                                </span>
                                <span class="d-inline-block mx-1 text-warning ">
                                    <i data-feather="star" width="14" height="14"></i>
                                </span>
                                <span class="d-inline-block mx-1 text-warning ">
                                    <i data-feather="star" width="14" height="14"></i>
                                </span>
                                <span class="d-inline-block mx-1 text-warning">
                                    <i data-feather="star" width="14" height="14"></i>
                                </span>
                            </div>
                            <!--Star Rating end-->
                            <!--Rating start-->
                            <div class="d-flex justify-content-center align-items-center">
                                <span href="#" class="d-inline-block m-2" title="Add to Favourite">
                                    <i data-feather="heart" width="18" height="18"></i>
                                </span>
                                <span href="#" class="d-inline-block m-2" title="Add to Cart">
                                    <i data-feather="shopping-cart" width="18" height="18"></i>
                                </span>
                            </div>
                            <!--Rating End-->
                        </a>
                {% endfor %}


            </div>
        </section>


  <!-- The Modal -->
  <div class="modal fade" id="myModal">
    <div class="modal-dialog modal-xl">
      <div class="modal-content">

        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">SIZE GUIDELINE</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>

        <!-- Modal body -->
        <div class="modal-body">
         <div class='container-fluid'>
             <div class='row'>
                 <div class='col-md-12'>
                     {% if detail.subcategory.name == 'Polo' %}
                     {% if detail.sex == 'Female' %}
                     <img src="{% static 'index/assets/img/sizeguideline/1.jpeg' %}" class='img-fluid'> <hr>
                     {% endif %}
                     {% endif %}

                     {% if detail.subcategory.name == 'Chinose' %}
                     {% if detail.sex == 'Male' %}
                     <img src="{% static 'index/assets/img/sizeguideline/2.jpeg' %}"  class='img-fluid'><hr>
                     {% endif %}
                     {% endif %}

                     {% if detail.subcategory.name == 'T-Shirt' %}
                     {% if detail.sex == 'Male' %}
                     <img src="{% static 'index/assets/img/sizeguideline/3.jpeg' %}"  class='img-fluid'><hr>
                     <img src="{% static 'index/assets/img/sizeguideline/4.jpeg' %}" class='img-fluid'><hr>
                     <img src="{% static 'index/assets/img/sizeguideline/5.jpeg' %}"  class='img-fluid'><hr>
                    <img src="{% static 'index/assets/img/sizeguideline/7.jpeg' %}"  class='img-fluid'><hr>
                    <img src="{% static 'index/assets/img/sizeguideline/13.jpeg' %}"  class='img-fluid'><hr>
                     <img src="{% static 'index/assets/img/sizeguideline/14.jpeg' %}"  class='img-fluid'><hr>
                    <img src="{% static 'index/assets/img/sizeguideline/18.jpeg' %}"  class='img-fluid'><hr>
                    <img src="{% static 'index/assets/img/sizeguideline/19.jpeg' %}"  class='img-fluid'><hr>
                     {% endif %}
                     {% endif %}

                     {% if detail.subcategory.name == 'Polo' %}
                     {% if detail.sex == 'Male' %}
                     <img src="{% static 'index/assets/img/sizeguideline/6.jpeg' %}"  class='img-fluid'><hr>
                     <img src="{% static 'index/assets/img/sizeguideline/17.jpeg' %}"  class='img-fluid'><hr>
                     <img src="{% static 'index/assets/img/sizeguideline/9.jpeg' %}"  class='img-fluid'><hr>
                     <img src="{% static 'index/assets/img/sizeguideline/15.jpeg' %}"  class='img-fluid'><hr>
                     {% endif %}
                     {% endif %}

                     {% if detail.subcategory.name == 'Jean' %}
                     {% if detail.sex == 'Male' %}
                     <img src="{% static 'index/assets/img/sizeguideline/8.jpeg' %}"  class='img-fluid'><hr>
                     <img src="{% static 'index/assets/img/sizeguideline/16.jpeg' %}"  class='img-fluid'><hr>
                     <img src="{% static 'index/assets/img/sizeguideline/11.jpeg' %}"  class='img-fluid'><hr>
                     <img src="{% static 'index/assets/img/sizeguideline/12.jpeg' %}"  class='img-fluid'><hr>
                     {% endif %}
                     {% endif %}

                    {% if detail.subcategory.name == 'Jean' %}
                     {% if detail.sex == 'Female' %}
                     <img src="{% static 'index/assets/img/sizeguideline/10.jpeg' %}"  class='img-fluid'><hr>
                     {% endif %}
                     {% endif %}

                 </div>
             </div>

         </div>
        </div>

        <!-- Modal footer -->
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        </div>

      </div>
    </div>
  </div>


<script>
    product_color = []
    {% for i in others %}
    product_color.push({'image':'{{i.image}}', 'color':'{{i.color}}', 'id':'{{i.id}}'})
    {% endfor %}

</script>

{% endblock %}